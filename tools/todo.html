<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todo List - DevTools Hub</title>
    <meta name="description" content="Simple, fast todo list with priorities, filters, and local storage persistence.">
    <meta name="keywords" content="todo, task list, priorities, productivity, checklist">
    <meta name="author" content="DevTools Hub">
    <meta name="robots" content="index, follow">

    <meta name="theme-color" content="#3b82f6">
    <meta name="color-scheme" content="light dark">

    <link rel="stylesheet" href="../assets/css/modern-styles.css">
</head>
<body data-theme="light">
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <button class="btn btn-ghost" onclick="goBack()" aria-label="Go back">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M19 12H5M12 19l-7-7 7-7"/>
                        </svg>
                    </button>
                    <a href="../index.html" class="logo">
                        <span class="logo-icon">üõ†Ô∏è</span>
                        <span>DevTools Hub</span>
                    </a>
                </div>
                <nav class="nav-links">
                    <a href="../index.html" class="nav-link">Home</a>
                    <a href="#" class="nav-link active" onclick="filterView('all')">Productivity</a>
                    <a href="qr-generator.html" class="nav-link">QR Generator</a>
                    <a href="notes.html" class="nav-link">Notes</a>
                </nav>
                <div class="header-actions">
                    <div class="search-container">
                        <input type="text" id="searchInput" placeholder="Search tools..." class="search-input">
                        <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"/>
                            <path d="m21 21-4.35-4.35"/>
                        </svg>
                    </div>
                    <button id="themeToggle" class="theme-toggle" aria-label="Toggle theme">
                        <span id="themeIcon">üåô</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <div class="breadcrumb">
        <div class="container">
            <nav class="breadcrumb-nav" aria-label="Breadcrumb"></nav>
        </div>
    </div>

    <main class="main">
        <div class="container">
            <div class="tool-layout">
                <div class="tool-content">
                    <div class="tool-header">
                        <div class="tool-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="4" width="18" height="16" rx="2"/>
                                <path d="M7 8h10M7 12h10M7 16h6"/>
                            </svg>
                        </div>
                        <div class="tool-info">
                            <h1>Todo List</h1>
                            <p class="tool-description">Track tasks with priorities and filters. Data is stored locally on your device.</p>
                        </div>
                    </div>

                    <div class="card mb-6">
                        <div class="card-header">
                            <div class="card-icon">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="3"/>
                                </svg>
                            </div>
                            <div>
                                <h3 class="card-title">Add Task</h3>
                                <p class="card-description">Enter a task and choose priority</p>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label" for="todoInput">Task</label>
                                <input id="todoInput" type="text" class="form-input" placeholder="e.g., Ship release notes" onkeydown="if(event.key==='Enter'){addTodo()}">
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="todoPriority">Priority</label>
                                <select id="todoPriority" class="form-select">
                                    <option value="low">Low</option>
                                    <option value="medium" selected>Medium</option>
                                    <option value="high">High</option>
                                </select>
                            </div>
                        </div>
                        <div class="btn-group">
                            <button class="btn btn-primary" onclick="addTodo()">Add Task</button>
                            <button class="btn btn-outline" onclick="clearCompleted()">Clear Completed</button>
                        </div>
                    </div>

                    <div class="card mb-6">
                        <div class="card-header">
                            <div class="card-icon">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M9 11H5a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h4m6-6h4a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-4m-6 0V9a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2v-2"/>
                                </svg>
                            </div>
                            <div>
                                <h3 class="card-title">Tasks</h3>
                                <p class="card-description">Filter and manage your list</p>
                            </div>
                        </div>
                        <div class="btn-group" style="margin-top:0">
                            <button class="btn btn-outline btn-sm" onclick="setFilter('all')" id="filter-all">All</button>
                            <button class="btn btn-outline btn-sm" onclick="setFilter('pending')" id="filter-pending">Pending</button>
                            <button class="btn btn-outline btn-sm" onclick="setFilter('completed')" id="filter-completed">Completed</button>
                            <button class="btn btn-outline btn-sm" onclick="setFilter('high')" id="filter-high">High Priority</button>
                        </div>
                        <div id="todoList" class="grid" style="grid-template-columns: 1fr; gap: .75rem; margin-top: .75rem;"></div>
                        <div id="todoStats" class="text-secondary" style="margin-top: .5rem; font-size: .875rem;"></div>
                    </div>
                </div>

                <div class="tool-sidebar">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                </svg>
                            </div>
                            <div>
                                <h3 class="card-title">Tips</h3>
                            </div>
                        </div>
                        <ul class="text-xs text-secondary" style="list-style: disc; padding-left: 18px;">
                            <li>Press Enter to quickly add a task</li>
                            <li>Click a checkbox to mark complete</li>
                            <li>Filter by status or priority</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>DevTools Hub</h4>
                    <p>Professional developer tools that work offline. Privacy-focused and completely free.</p>
                </div>
                <div class="footer-section">
                    <h4>Productivity</h4>
                    <a href="todo.html">Todo List</a>
                    <a href="qr-generator.html">QR Generator</a>
                    <a href="notes.html">Notes</a>
                </div>
                <div class="footer-section">
                    <h4>Popular</h4>
                    <a href="../tools/json-formatter.html">JSON Formatter</a>
                    <a href="../tools/password-generator.html">Password Generator</a>
                    <a href="../tools/unix-timestamp-converter.html">Unix Timestamp</a>
                </div>
                <div class="footer-section">
                    <h4>Features</h4>
                    <span>‚úì Works Offline</span>
                    <span>‚úì No Data Collection</span>
                    <span>‚úì Mobile Friendly</span>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 DevTools Hub. Built with ‚ù§Ô∏è for developers.</p>
            </div>
        </div>
    </footer>

    <script src="../assets/js/modern-shared.js"></script>
    <script>
        const STORAGE_KEY = 'devtools_hub_todos_v1';
        let todos = loadTodos();
        let currentFilter = 'all';

        function loadTodos() {
            try {
                const raw = localStorage.getItem(STORAGE_KEY);
                return raw ? JSON.parse(raw) : [];
            } catch { return []; }
        }

        function saveTodos() {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(todos));
        }

        function addTodo() {
            const input = document.getElementById('todoInput');
            const priority = document.getElementById('todoPriority').value;
            const text = input.value.trim();
            if (!text) { if (window.ToastManager) window.ToastManager.info('Please enter a task'); return; }
            const todo = { id: Date.now(), text, priority, completed: false, createdAt: new Date().toISOString() };
            todos.unshift(todo);
            saveTodos();
            input.value = '';
            render();
            if (window.ToastManager) window.ToastManager.success('Task added');
        }

        function toggleTodo(id) {
            const t = todos.find(x => x.id === id);
            if (t) { t.completed = !t.completed; saveTodos(); render(); }
        }

        function deleteTodo(id) {
            todos = todos.filter(x => x.id !== id);
            saveTodos();
            render();
        }

        function clearCompleted() {
            const before = todos.length;
            todos = todos.filter(x => !x.completed);
            saveTodos();
            render();
            if (window.ToastManager) window.ToastManager.info(`${before - todos.length} completed removed`);
        }

        function setFilter(f) { currentFilter = f; render(); }

        function filterView() { /* stub for breadcrumb anchor */ }

        function filteredTodos() {
            switch (currentFilter) {
                case 'pending': return todos.filter(t => !t.completed);
                case 'completed': return todos.filter(t => t.completed);
                case 'high': return todos.filter(t => t.priority === 'high');
                default: return todos;
            }
        }

        function render() {
            const list = document.getElementById('todoList');
            list.innerHTML = '';

            // Update filter button active state
            ['all','pending','completed','high'].forEach(f => {
                const el = document.getElementById(`filter-${f}`);
                if (el) el.classList.toggle('btn-primary', currentFilter === f);
            });

            const frag = document.createDocumentFragment();
            filteredTodos().forEach(t => {
                const item = document.createElement('div');
                item.className = 'card';
                item.innerHTML = `
                    <div style="display:flex;align-items:center;gap:.75rem;">
                        <input type="checkbox" ${t.completed ? 'checked' : ''} aria-label="Toggle"/>
                        <div style="flex:1;">
                            <div class="${t.completed ? 'text-secondary' : ''}" style="${t.completed ? 'text-decoration: line-through;' : ''}">${escapeHtml(t.text)}</div>
                            <div class="text-xs text-secondary">Priority: ${t.priority}</div>
                        </div>
                        <button class="btn btn-outline btn-sm" aria-label="Delete">Delete</button>
                    </div>
                `;
                const checkbox = item.querySelector('input[type="checkbox"]');
                checkbox.addEventListener('change', () => toggleTodo(t.id));
                item.querySelector('button').addEventListener('click', () => deleteTodo(t.id));
                frag.appendChild(item);
            });
            list.appendChild(frag);

            // Stats
            const total = todos.length;
            const done = todos.filter(t => t.completed).length;
            const high = todos.filter(t => t.priority === 'high').length;
            document.getElementById('todoStats').textContent = `Total: ${total} ‚Ä¢ Completed: ${done} ‚Ä¢ High: ${high}`;
        }

        function escapeHtml(s){
            const div = document.createElement('div');
            div.textContent = s; return div.innerHTML;
        }

        document.addEventListener('DOMContentLoaded', () => {
            render();
        });
    </script>
</body>
</html>

