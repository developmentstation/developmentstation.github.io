<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Clipboard - DevTools Hub</title>
  <meta name="description" content="Clipboard reader/writer with history stored locally.">
  <link rel="stylesheet" href="../assets/css/modern-styles.css">
  <meta name="color-scheme" content="light dark">
</head>
<body data-theme="light">
  <header class="header"><div class="container"><div class="header-content"><div class="logo"><button class="btn btn-ghost" onclick="goBack()" aria-label="Go back"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg></button><a href="../index.html" class="logo"><span class="logo-icon">🛠️</span><span>DevTools Hub</span></a></div><nav class="nav-links"><a href="../index.html" class="nav-link">Home</a><a href="#" class="nav-link active">Clipboard</a></nav><div class="header-actions"><div class="search-container"><input type="text" id="searchInput" placeholder="Search tools..." class="search-input"><svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg></div><button id="themeToggle" class="theme-toggle" aria-label="Toggle theme"><span id="themeIcon">🌙</span></button></div></div></div></header>

  <main class="main"><div class="container"><div class="tool-layout"><div class="tool-content">
    <div class="tool-header"><div class="tool-icon"><svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M8 4h8v2H8z"/><rect x="4" y="6" width="16" height="14" rx="2"/></svg></div><div class="tool-info"><h1>Clipboard</h1><p class="tool-description">Read/write clipboard and keep a local history.</p></div></div>

    <div class="card mb-6"><div class="card-header"><div class="card-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/></svg></div><div><h3 class="card-title">Compose</h3></div></div>
      <div class="form-group" style="padding:1rem"><textarea id="text" class="form-textarea" rows="6" placeholder="Type or paste here..."></textarea></div>
      <div class="btn-group" style="padding:0 1rem 1rem"><button class="btn btn-primary" onclick="copy()">Copy</button><button class="btn" onclick="paste()">Paste</button><button class="btn btn-ghost" onclick="clearText()">Clear</button></div>
    </div>

    <div class="card"><div class="card-header"><div class="card-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18M3 12h18M3 18h18"/></svg></div><div><h3 class="card-title">History</h3></div></div>
      <div class="btn-group" style="padding:1rem"><button class="btn" onclick="exportHistory()">Export</button><button class="btn" onclick="importHistory()">Import</button><button class="btn btn-ghost" onclick="clearHistory()">Clear History</button></div>
      <div id="history" style="padding:0 1rem 1rem"></div>
    </div>
  </div></div></div></main>

  <footer class="footer"><div class="container"><div class="footer-content"><div class="footer-section"><h4>DevTools Hub</h4><p>Professional developer tools that work offline.</p></div><div class="footer-section"><h4>Clipboard</h4><a href="clipboard.html">Clipboard</a></div><div class="footer-section"><h4>Popular</h4><a href="../tools/json-formatter.html">JSON</a><a href="../tools/qr-generator.html">QR</a></div><div class="footer-section"><h4>Features</h4><span>✓ Offline</span></div></div><div class="footer-bottom"><p>© 2024 DevTools Hub.</p></div></div></footer>

  <script src="../assets/js/modern-shared.js"></script>
  <script>
    const KEY='devtools_clipboard_hist_v1';
    function getHist(){ try{ return JSON.parse(localStorage.getItem(KEY)||'[]'); }catch{ return []; } }
    function setHist(arr){ localStorage.setItem(KEY, JSON.stringify(arr.slice(0,200))); }
    function note(m){ if(window.ToastManager) window.ToastManager.show(m); else alert(m); }
    function render(){ const list=document.getElementById('history'); const arr=getHist(); list.innerHTML = arr.map((t,i)=> `<div class="card" style="margin-bottom:.5rem"><div class="card-header"><div class="card-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/></svg></div><div><h3 class="card-title">Item ${i+1}</h3></div></div><div style="padding:1rem; white-space:pre-wrap" class="text-sm">${t}</div><div class="btn-group" style="padding:0 1rem 1rem"><button class="btn" onclick="copyText(${i})">Copy</button><button class="btn btn-ghost" onclick="del(${i})">Delete</button></div></div>` ).join(''); }
    function copy(){ const t=document.getElementById('text').value; if(!t){ note('Nothing to copy'); return;} if(window.ClipboardManager) window.ClipboardManager.copyText(t); else if(navigator.clipboard) navigator.clipboard.writeText(t); const arr=getHist(); arr.unshift(t); setHist(arr); render(); note('Copied'); }
    async function paste(){ try{ const t = await navigator.clipboard.readText(); document.getElementById('text').value = t; }catch{ note('Clipboard read not allowed'); } }
    function clearText(){ document.getElementById('text').value=''; }
    function copyText(i){ const arr=getHist(); const t=arr[i]; if(!t) return; if(window.ClipboardManager) window.ClipboardManager.copyText(t); else if(navigator.clipboard) navigator.clipboard.writeText(t); note('Copied'); }
    function del(i){ const arr=getHist(); arr.splice(i,1); setHist(arr); render(); }
    function exportHistory(){ const blob=new Blob([JSON.stringify(getHist(), null, 2)],{type:'application/json'}); const a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='clipboard-history.json'; a.click(); URL.revokeObjectURL(a.href); }
    function importHistory(){ const i=document.createElement('input'); i.type='file'; i.accept='application/json'; i.onchange=()=>{ const f=i.files[0]; if(!f) return; const r=new FileReader(); r.onload=()=>{ try{ const arr=JSON.parse(r.result); if(Array.isArray(arr)) setHist(arr); render(); }catch{ note('Invalid JSON'); } }; r.readAsText(f); }; i.click(); }
    render();
  </script>
</body>
</html>

