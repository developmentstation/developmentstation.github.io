<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CSV Converter - DevTools Hub</title>
  <meta name="description" content="Convert CSV ‚Üî JSON quickly. Paste data and convert offline.">
  <meta name="keywords" content="csv to json, json to csv, csv converter">
  <meta name="author" content="DevTools Hub">
  <meta name="robots" content="index, follow">
  <meta name="theme-color" content="#3b82f6">
  <meta name="color-scheme" content="light dark">
  <link rel="stylesheet" href="../assets/css/modern-styles.css">
</head>
<body data-theme="light">
  <header class="header"><div class="container"><div class="header-content"><div class="logo"><button class="btn btn-ghost" onclick="goBack()" aria-label="Go back"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg></button><a href="../index.html" class="logo"><span class="logo-icon">üõ†Ô∏è</span><span>DevTools Hub</span></a></div><nav class="nav-links"><a href="../index.html" class="nav-link">Home</a><a href="#" class="nav-link active" onclick="filterTools('data')">Data Tools</a><a href="json-formatter.html" class="nav-link">JSON</a></nav><div class="header-actions"><div class="search-container"><input type="text" id="searchInput" placeholder="Search tools..." class="search-input"><svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg></div><button id="themeToggle" class="theme-toggle" aria-label="Toggle theme"><span id="themeIcon">üåô</span></button></div></div></div></header>

  <div class="breadcrumb"><div class="container"><nav class="breadcrumb-nav" aria-label="Breadcrumb"></nav></div></div>

  <main class="main">
    <div class="container">
      <div class="tool-layout">
        <div class="tool-content">
          <div class="tool-header"><div class="tool-icon"><svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14,2 14,8 20,8"/></svg></div><div class="tool-info"><h1>CSV Converter</h1><p class="tool-description">Convert CSV to JSON and JSON to CSV.</p></div></div>

          <div class="card mb-6">
            <div class="form-row">
              <div class="form-group"><label class="form-label" for="csvIn">CSV</label><textarea id="csvIn" class="form-textarea font-mono" rows="10" placeholder="name,age\nAlice,30\nBob,25"></textarea></div>
              <div class="form-group"><label class="form-label" for="jsonIn">JSON</label><textarea id="jsonIn" class="form-textarea font-mono" rows="10" placeholder='[{"name":"Alice","age":30},{"name":"Bob","age":25}]'></textarea></div>
            </div>
            <div class="btn-group"><button class="btn btn-primary" onclick="csvToJson()">CSV ‚Üí JSON</button><button class="btn btn-secondary" onclick="jsonToCsv()">JSON ‚Üí CSV</button><button class="btn btn-ghost" onclick="clearAll()">Clear</button></div>
          </div>

          <div class="card">
            <div class="card-header"><div class="card-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 11 12 14 22 4"/></svg></div><div><h3 class="card-title">Output</h3></div></div>
            <div class="result-area"><textarea id="out" class="form-textarea font-mono" rows="12" readonly></textarea><button class="copy-btn" data-target="out">Copy</button></div>
          </div>
        </div>
        <div class="tool-sidebar">
          <div class="card"><div class="card-header"><div class="card-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/></svg></div><div><h3 class="card-title">Notes</h3></div></div>
            <ul class="text-xs text-secondary" style="list-style:disc;padding-left:18px;">
              <li>CSV parser handles quoted fields and commas inside quotes.</li>
              <li>JSON ‚Üí CSV uses keys from the first object.</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </main>

  <footer class="footer"><div class="container"><div class="footer-content"><div class="footer-section"><h4>DevTools Hub</h4><p>Professional developer tools that work offline.</p></div><div class="footer-section"><h4>Data</h4><a href="csv-converter.html">CSV</a><a href="json-formatter.html">JSON</a></div><div class="footer-section"><h4>Popular</h4><a href="../tools/qr-generator.html">QR</a><a href="../tools/password-generator.html">Passwords</a></div><div class="footer-section"><h4>Features</h4><span>‚úì Offline</span><span>‚úì No Data Collection</span></div></div><div class="footer-bottom"><p>&copy; 2024 DevTools Hub.</p></div></div></footer>

  <script src="../assets/js/modern-shared.js"></script>
  <script>
    function clearAll(){ document.getElementById('csvIn').value=''; document.getElementById('jsonIn').value=''; document.getElementById('out').value=''; }

    function csvToJson(){
      const csv = document.getElementById('csvIn').value.trim();
      if (!csv){ setOut(''); return; }
      const rows = parseCSV(csv);
      if (rows.length === 0){ setOut('[]'); return; }
      const header = rows[0];
      const out = rows.slice(1).map(r => {
        const obj = {}; header.forEach((h,i)=>obj[h]=r[i]!==undefined?r[i]:''); return obj;
      });
      setOut(JSON.stringify(out, null, 2));
    }

    function jsonToCsv(){
      try{
        const arr = JSON.parse(document.getElementById('jsonIn').value || '[]');
        if (!Array.isArray(arr) || arr.length===0){ setOut(''); return; }
        const headers = Object.keys(arr[0]);
        const lines = [headers.join(',')];
        arr.forEach(row => {
          const values = headers.map(h => csvEscape(row[h]));
          lines.push(values.join(','));
        });
        setOut(lines.join('\n'));
      } catch(e){ setOut('Invalid JSON'); }
    }

    function setOut(v){ document.getElementById('out').value = v; }

    function csvEscape(v){
      if (v==null) return '';
      const s = String(v);
      if (/([",\n])/.test(s)) return '"' + s.replace(/"/g,'""') + '"';
      return s;
    }

    function parseCSV(text){
      const rows=[]; let row=[]; let i=0; let cur=''; let inQ=false;
      while(i<text.length){
        const ch=text[i++];
        if (inQ){
          if (ch==='"'){
            if (text[i]==='"'){ cur+='"'; i++; }
            else inQ=false;
          } else cur+=ch;
        } else {
          if (ch==='"') inQ=true;
          else if (ch===','){ row.push(cur); cur=''; }
          else if (ch==='\n'){ row.push(cur); rows.push(row); row=[]; cur=''; }
          else cur+=ch;
        }
      }
      row.push(cur); rows.push(row);
      return rows;
    }
  </script>
</body>
</html>

