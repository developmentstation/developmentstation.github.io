<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Placeholder Image Generator - DevTools Hub</title>
    <meta name="description" content="Generate customizable placeholder images. Set size, background, text color, and label. Download as PNG or JPG.">
    <meta name="keywords" content="placeholder image, dummy image, placeholder generator, lorem image, image generator">
    <meta name="author" content="DevTools Hub">
    <meta name="robots" content="index, follow">

    <meta name="theme-color" content="#3b82f6">
    <meta name="color-scheme" content="light dark">

    <link rel="stylesheet" href="../assets/css/modern-styles.css">
</head>
<body data-theme="light">
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <button class="btn btn-ghost" onclick="goBack()" aria-label="Go back">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M19 12H5M12 19l-7-7 7-7"/>
                        </svg>
                    </button>
                    <a href="../index.html" class="logo">
                        <span class="logo-icon">üõ†Ô∏è</span>
                        <span>DevTools Hub</span>
                    </a>
                </div>
                <nav class="nav-links">
                    <a href="../index.html" class="nav-link">Home</a>
                    <a href="#" class="nav-link active" onclick="filterTools('image')">Image & Media</a>
                    <a href="image-base64.html" class="nav-link">Image ‚Üí Base64</a>
                    <a href="color-extractor.html" class="nav-link">Color Extractor</a>
                </nav>
                <div class="header-actions">
                    <div class="search-container">
                        <input type="text" id="searchInput" placeholder="Search tools..." class="search-input">
                        <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"/>
                            <path d="m21 21-4.35-4.35"/>
                        </svg>
                    </div>
                    <button id="themeToggle" class="theme-toggle" aria-label="Toggle theme">
                        <span id="themeIcon">üåô</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <div class="breadcrumb">
        <div class="container">
            <nav class="breadcrumb-nav" aria-label="Breadcrumb"></nav>
        </div>
    </div>

    <main class="main">
        <div class="container">
            <div class="tool-layout">
                <div class="tool-content">
                    <div class="tool-header">
                        <div class="tool-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="18" height="14" rx="2"/>
                                <circle cx="8" cy="8" r="2"/>
                                <path d="M21 17l-5-5-4 4-2-2-5 5"/>
                            </svg>
                        </div>
                        <div class="tool-info">
                            <h1>Placeholder Image Generator</h1>
                            <p class="tool-description">Create fast placeholder images with custom size, colors, and label. Works fully offline.</p>
                        </div>
                    </div>

                    <div class="card mb-6">
                        <div class="card-header">
                            <div class="card-icon">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="3"/>
                                    <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
                            </svg>
                            </div>
                            <div>
                                <h3 class="card-title">Options</h3>
                                <p class="card-description">Customize your placeholder</p>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label" for="phWidth">Width (px)</label>
                                <input id="phWidth" type="number" class="form-input" value="800" min="1" oninput="updatePreview()">
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="phHeight">Height (px)</label>
                                <input id="phHeight" type="number" class="form-input" value="450" min="1" oninput="updatePreview()">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label" for="bgColor">Background</label>
                                <input id="bgColor" type="color" class="color-input" value="#e5e7eb" onchange="updatePreview()">
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="textColor">Text color</label>
                                <input id="textColor" type="color" class="color-input" value="#111827" onchange="updatePreview()">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label" for="labelText">Label</label>
                                <input id="labelText" type="text" class="form-input" placeholder="Auto (WIDTH √ó HEIGHT)" oninput="updatePreview()">
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="formatSelect">Format</label>
                                <select id="formatSelect" class="form-select" onchange="updatePreview()">
                                    <option value="image/png">PNG</option>
                                    <option value="image/jpeg">JPG</option>
                                </select>
                            </div>
                        </div>

                        <div class="btn-group">
                            <button class="btn btn-primary" onclick="generatePlaceholder()">Generate</button>
                            <button class="btn btn-outline" onclick="downloadPlaceholder()">Download</button>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="3" width="6" height="6" rx="1"/>
                                    <rect x="15" y="3" width="6" height="6" rx="1"/>
                                    <rect x="3" y="15" width="6" height="6" rx="1"/>
                                </svg>
                            </div>
                            <div>
                                <h3 class="card-title">Preview</h3>
                                <p class="card-description">Generated placeholder</p>
                            </div>
                        </div>

                        <div class="qr-display">
                            <div class="qr-container" id="previewContainer">
                                <div class="qr-placeholder">
                                    <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                                        <rect x="3" y="3" width="6" height="6" rx="1"/>
                                        <rect x="15" y="3" width="6" height="6" rx="1"/>
                                        <rect x="3" y="15" width="6" height="6" rx="1"/>
                                    </svg>
                                    <p>Generate to see preview</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tool-sidebar">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
                                </svg>
                            </div>
                            <div>
                                <h3 class="card-title">Quick Sizes</h3>
                            </div>
                        </div>
                        <div class="grid" style="grid-template-columns: repeat(2, 1fr); gap: .5rem;">
                            <button class="btn btn-outline btn-sm" onclick="setSize(320,180)">320√ó180</button>
                            <button class="btn btn-outline btn-sm" onclick="setSize(640,360)">640√ó360</button>
                            <button class="btn btn-outline btn-sm" onclick="setSize(800,450)">800√ó450</button>
                            <button class="btn btn-outline btn-sm" onclick="setSize(1280,720)">1280√ó720</button>
                            <button class="btn btn-outline btn-sm" onclick="setSize(1920,1080)">1920√ó1080</button>
                            <button class="btn btn-outline btn-sm" onclick="setSize(1080,1080)">1080√ó1080</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>DevTools Hub</h4>
                    <p>Professional developer tools that work offline. Privacy-focused and completely free.</p>
                </div>
                <div class="footer-section">
                    <h4>Image & Media</h4>
                    <a href="placeholder-generator.html">Placeholder Generator</a>
                    <a href="image-base64.html">Image ‚Üí Base64</a>
                    <a href="image-info.html">Image Info</a>
                </div>
                <div class="footer-section">
                    <h4>Popular</h4>
                    <a href="../tools/json-formatter.html">JSON Formatter</a>
                    <a href="../tools/qr-generator.html">QR Generator</a>
                    <a href="../tools/password-generator.html">Password Generator</a>
                </div>
                <div class="footer-section">
                    <h4>Features</h4>
                    <span>‚úì Works Offline</span>
                    <span>‚úì No Data Collection</span>
                    <span>‚úì Mobile Friendly</span>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 DevTools Hub. Built with ‚ù§Ô∏è for developers.</p>
            </div>
        </div>
    </footer>

    <script src="../assets/js/modern-shared.js"></script>
    <script>
        let currentDataUrl = '';

        function setSize(w, h) {
            document.getElementById('phWidth').value = w;
            document.getElementById('phHeight').value = h;
            updatePreview();
        }

        function updatePreview() {
            // Live update only if already generated
            if (currentDataUrl) generatePlaceholder();
        }

        function generatePlaceholder() {
            const width = clampInt(document.getElementById('phWidth').value, 1, 4000);
            const height = clampInt(document.getElementById('phHeight').value, 1, 4000);
            const bg = document.getElementById('bgColor').value || '#e5e7eb';
            const color = document.getElementById('textColor').value || '#111827';
            const labelInput = document.getElementById('labelText').value.trim();
            const label = labelInput || `${width} √ó ${height}`;
            const mime = document.getElementById('formatSelect').value || 'image/png';

            const canvas = document.createElement('canvas');
            canvas.width = width;
            canvas.height = height;
            const ctx = canvas.getContext('2d');

            // Background
            ctx.fillStyle = bg;
            ctx.fillRect(0, 0, width, height);

            // Text - choose a comfortable font size based on smallest dimension
            const base = Math.min(width, height);
            const fontSize = Math.max(12, Math.round(base * 0.12));
            ctx.fillStyle = color;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.font = `bold ${fontSize}px Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, sans-serif`;

            // Wrap text if too long
            const maxWidth = Math.round(width * 0.9);
            const lines = wrapText(ctx, label, maxWidth);
            const lineHeight = Math.round(fontSize * 1.2);
            const totalHeight = lines.length * lineHeight;
            let y = (height - totalHeight) / 2 + lineHeight / 2;
            lines.forEach(line => {
                ctx.fillText(line, Math.round(width / 2), Math.round(y));
                y += lineHeight;
            });

            currentDataUrl = canvas.toDataURL(mime, mime === 'image/jpeg' ? 0.92 : undefined);

            const container = document.getElementById('previewContainer');
            container.innerHTML = '';
            const img = new Image();
            img.src = currentDataUrl;
            img.alt = label;
            img.style.maxWidth = '100%';
            img.style.height = 'auto';
            container.appendChild(img);

            if (window.ToastManager) window.ToastManager.success('Placeholder generated');
        }

        function downloadPlaceholder() {
            if (!currentDataUrl) {
                if (window.ToastManager) window.ToastManager.info('Generate an image first');
                return;
            }
            const link = document.createElement('a');
            link.href = currentDataUrl;
            const ext = currentDataUrl.startsWith('data:image/jpeg') ? 'jpg' : 'png';
            link.download = `placeholder-${Date.now()}.${ext}`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        function wrapText(ctx, text, maxWidth) {
            const words = text.split(/\s+/);
            const lines = [];
            let line = '';
            for (let i = 0; i < words.length; i++) {
                const testLine = line ? `${line} ${words[i]}` : words[i];
                const { width } = ctx.measureText(testLine);
                if (width > maxWidth && line) {
                    lines.push(line);
                    line = words[i];
                } else {
                    line = testLine;
                }
            }
            if (line) lines.push(line);
            return lines;
        }

        function clampInt(value, min, max) {
            const v = parseInt(value, 10);
            if (isNaN(v)) return min;
            return Math.max(min, Math.min(max, v));
        }

        document.addEventListener('DOMContentLoaded', () => {
            // Generate initial preview
            generatePlaceholder();
        });
    </script>
</body>
</html>

