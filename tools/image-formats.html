<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Image Formats - DevTools Hub</title>
  <meta name="description" content="Convert images between formats (PNG, JPEG, WebP). Quality and transparency options.">
  <link rel="stylesheet" href="../assets/css/modern-styles.css">
  <meta name="color-scheme" content="light dark">
</head>
<body data-theme="light">
  <header class="header"><div class="container"><div class="header-content"><div class="logo"><button class="btn btn-ghost" onclick="goBack()" aria-label="Go back"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg></button><a href="../index.html" class="logo"><span class="logo-icon">üõ†Ô∏è</span><span>DevTools Hub</span></a></div><nav class="nav-links"><a href="../index.html" class="nav-link">Home</a><a href="#" class="nav-link active">Images</a></nav><div class="header-actions"><div class="search-container"><input type="text" id="searchInput" placeholder="Search tools..." class="search-input"><svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg></div><button id="themeToggle" class="theme-toggle" aria-label="Toggle theme"><span id="themeIcon">üåô</span></button></div></div></div></header>

  <main class="main"><div class="container"><div class="tool-layout"><div class="tool-content">
    <div class="tool-header"><div class="tool-icon"><svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/></svg></div><div class="tool-info"><h1>Image Formats</h1><p class="tool-description">Convert images to PNG, JPEG, or WebP in-browser.</p></div></div>

    <div class="card mb-6"><div class="card-header"><div class="card-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/></svg></div><div><h3 class="card-title">Source</h3></div></div>
      <div class="grid" style="grid-template-columns: 1fr 1fr; gap:1rem; padding:1rem;">
        <div class="form-group"><label class="form-label">Select image</label><input id="file" type="file" class="form-input" accept="image/*"></div>
        <div class="form-group"><label class="form-label">Preview</label><img id="prev" alt="preview" style="max-width:100%; border:1px solid var(--border-subtle); border-radius:8px"></div>
      </div>
    </div>

    <div class="card"><div class="card-header"><div class="card-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 11 12 14 22 4"/></svg></div><div><h3 class="card-title">Convert</h3></div></div>
      <div class="grid" style="grid-template-columns: repeat(4, minmax(0,1fr)); gap:1rem; padding:1rem;">
        <div class="form-group"><label class="form-label">Format</label><select id="format" class="form-input"><option value="image/png">PNG</option><option value="image/jpeg">JPEG</option><option value="image/webp">WebP</option></select></div>
        <div class="form-group"><label class="form-label">Quality (JPEG/WebP)</label><input id="quality" type="range" min="0" max="1" step="0.05" value="0.8" class="form-input"></div>
        <div class="form-group"><label class="form-label">Width</label><input id="w" type="number" class="form-input" placeholder="auto"></div>
        <div class="form-group"><label class="form-label">Height</label><input id="h" type="number" class="form-input" placeholder="auto"></div>
      </div>
      <div class="btn-group" style="padding:0 1rem 1rem"><button class="btn btn-primary" onclick="convert()">Convert</button><button class="btn" onclick="downloadOut()">Download</button></div>
      <div class="form-group" style="padding:0 1rem 1rem"><textarea id="out" class="form-textarea" rows="8" placeholder="Data URL of converted image..."></textarea></div>
    </div>
  </div></div></div></main>

  <footer class="footer"><div class="container"><div class="footer-content"><div class="footer-section"><h4>DevTools Hub</h4><p>Professional developer tools that work offline.</p></div><div class="footer-section"><h4>Images</h4><a href="image-formats.html">Image Formats</a></div><div class="footer-section"><h4>Popular</h4><a href="../tools/json-formatter.html">JSON</a><a href="../tools/qr-generator.html">QR</a></div><div class="footer-section"><h4>Features</h4><span>‚úì Offline</span></div></div><div class="footer-bottom"><p>¬© 2024 DevTools Hub.</p></div></div></footer>

  <script src="../assets/js/modern-shared.js"></script>
  <script>
    let sourceImg=null;
    document.getElementById('file').addEventListener('change', (e)=>{
      const f=e.target.files[0]; if(!f) return; const url=URL.createObjectURL(f); const img=new Image(); img.onload=()=>{ sourceImg=img; document.getElementById('prev').src=url; }; img.src=url;
    });
    function convert(){ if(!sourceImg){ (window.ToastManager?ToastManager:alert)('Select an image first'); return; }
      const fmt=document.getElementById('format').value; const q=parseFloat(document.getElementById('quality').value||'0.8'); const w=parseInt(document.getElementById('w').value||'0',10); const h=parseInt(document.getElementById('h').value||'0',10);
      const canvas=document.createElement('canvas'); const ctx=canvas.getContext('2d'); const tw=w>0?w: (h>0? Math.round(sourceImg.width*(h/sourceImg.height)) : sourceImg.width); const th=h>0?h: (w>0? Math.round(sourceImg.height*(w/sourceImg.width)) : sourceImg.height); canvas.width=tw; canvas.height=th; ctx.drawImage(sourceImg,0,0,tw,th);
      const url=canvas.toDataURL(fmt, isNaN(q)? undefined : q);
      document.getElementById('out').value = url;
    }
    function downloadOut(){ const d=document.getElementById('out').value.trim(); if(!d){ (window.ToastManager?ToastManager:alert)('Convert first'); return;} const a=document.createElement('a'); a.href=d; a.download='image'; a.click(); }
  </script>
</body>
</html>

