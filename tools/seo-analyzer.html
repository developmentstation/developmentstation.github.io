<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SEO Analyzer - DevTools Hub</title>
  <meta name="description" content="Analyze HTML for SEO: title, description, headings, images alt, canonical, robots, Open Graph, Twitter cards, links. Works offline.">
  <link rel="stylesheet" href="../assets/css/modern-styles.css">
  <meta name="color-scheme" content="light dark">
</head>
<body data-theme="light">
  <header class="header">
    <div class="container">
      <div class="header-content">
        <div class="logo">
          <button class="btn btn-ghost" onclick="goBack()" aria-label="Go back">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
          </button>
          <a href="../index.html" class="logo"><span class="logo-icon">üõ†Ô∏è</span><span>DevTools Hub</span></a>
        </div>
        <nav class="nav-links">
          <a href="../index.html" class="nav-link">Home</a>
          <a href="#" class="nav-link active">SEO</a>
        </nav>
        <div class="header-actions">
          <div class="search-container">
            <input type="text" id="searchInput" placeholder="Search tools..." class="search-input">
            <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
          </div>
          <button id="themeToggle" class="theme-toggle" aria-label="Toggle theme"><span id="themeIcon">üåô</span></button>
        </div>
      </div>
    </div>
  </header>

  <main class="main">
    <div class="container">
      <div class="tool-layout">
        <div class="tool-content">
          <div class="tool-header">
            <div class="tool-icon"><svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 12h18"/><path d="M12 3v18"/></svg></div>
            <div class="tool-info"><h1>SEO Analyzer</h1><p class="tool-description">Paste HTML or fetch a URL. Get quick SEO insights.</p></div>
          </div>

          <div class="card mb-6">
            <div class="card-header"><div class="card-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/></svg></div><div><h3 class="card-title">Input</h3><p class="card-description">Either paste HTML or fetch from a URL (CORS dependent)</p></div></div>
            <div class="grid" style="grid-template-columns: 2fr 1fr; gap: 1rem; padding: 1rem;">
              <div class="form-group"><label class="form-label">URL</label><input id="pageUrl" class="form-input" placeholder="https://example.com"></div>
              <div class="form-group" style="align-self:end"><button class="btn" onclick="fetchHtml()">Fetch & Analyze</button></div>
            </div>
            <div class="form-group" style="padding: 0 1rem 1rem;">
              <label class="form-label">HTML</label>
              <textarea id="htmlInput" class="form-textarea" rows="10" placeholder="Paste full HTML document here..."></textarea>
            </div>
            <div class="btn-group"><button class="btn btn-primary" onclick="analyze()">Analyze HTML</button><button class="btn btn-ghost" onclick="clearAll()">Clear</button></div>
          </div>

          <div class="card">
            <div class="card-header"><div class="card-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 12l2 2 4-4"/></svg></div><div><h3 class="card-title">Results</h3></div></div>
            <div id="results" style="padding:1rem"></div>
          </div>
        </div>
        <div class="tool-sidebar">
          <div class="card"><div class="card-header"><div class="card-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/></svg></div><div><h3 class="card-title">Checks</h3></div></div>
            <ul class="text-sm text-secondary" style="list-style:disc;padding: 0 1rem 1rem 1.25rem;">
              <li>Title length (50‚Äì60 chars)</li>
              <li>Meta description length (120‚Äì160 chars)</li>
              <li>Single H1, semantic headings</li>
              <li>Images have alt attributes</li>
              <li>Canonical link present</li>
              <li>Robots meta and robots.txt</li>
              <li>Open Graph & Twitter cards</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </main>

  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section"><h4>DevTools Hub</h4><p>Professional developer tools that work offline.</p></div>
        <div class="footer-section"><h4>SEO</h4><a href="seo-analyzer.html">SEO Analyzer</a><a href="meta-generator.html">Meta Generator</a></div>
        <div class="footer-section"><h4>Popular</h4><a href="../tools/json-formatter.html">JSON</a><a href="../tools/qr-generator.html">QR</a></div>
        <div class="footer-section"><h4>Features</h4><span>‚úì Offline</span></div>
      </div>
      <div class="footer-bottom"><p>&copy; 2024 DevTools Hub.</p></div>
    </div>
  </footer>

  <script src="../assets/js/modern-shared.js"></script>
  <script>
    function clearAll(){ document.getElementById('pageUrl').value=''; document.getElementById('htmlInput').value=''; document.getElementById('results').innerHTML=''; }
    function note(m){ if(window.ToastManager) window.ToastManager.show(m); else alert(m); }
    async function fetchHtml(){
      const url = document.getElementById('pageUrl').value.trim();
      if(!url){ note('Enter a URL'); return; }
      try{
        const res = await fetch(url, { mode: 'cors' });
        const text = await res.text();
        document.getElementById('htmlInput').value = text;
        analyze();
      }catch(e){ note('Fetch failed (CORS or network). Paste HTML instead.'); }
    }
    function analyze(){
      const html = document.getElementById('htmlInput').value.trim();
      if(!html){ note('Paste HTML to analyze'); return; }
      const doc = new DOMParser().parseFromString(html, 'text/html');
      const out = [];
      function addRow(label, value, ok){ out.push(`<div class="flex-row" style="justify-content:space-between;gap:1rem; padding:.5rem 0; border-bottom:1px solid var(--border-subtle);"><div><strong>${label}</strong></div><div class="text-sm ${ok===true?'text-success': ok===false?'text-danger':'text-secondary'}">${value}</div></div>`); }

      const title = (doc.querySelector('title')||{}).textContent || '';
      addRow('Title', `${title} (${title.length} chars)`, title.length>=50 && title.length<=60);

      const desc = (doc.querySelector('meta[name="description"]')||{}).content || '';
      addRow('Meta description', `${desc} (${desc.length} chars)`, desc.length>=120 && desc.length<=160);

      const h1s = Array.from(doc.querySelectorAll('h1'));
      addRow('H1 count', h1s.length, h1s.length===1);
      const headings = [1,2,3,4,5,6].map(n=>doc.querySelectorAll('h'+n).length);
      addRow('Headings H1‚ÄìH6', headings.join(', '), true);

      const imgs = Array.from(doc.querySelectorAll('img'));
      const missingAlt = imgs.filter(i=>!i.hasAttribute('alt') || i.getAttribute('alt').trim()==='').length;
      addRow('Images without alt', missingAlt, missingAlt===0);

      const links = doc.querySelectorAll('a').length;
      addRow('Links', links, true);

      const canonical = (doc.querySelector('link[rel="canonical"]')||{}).href || '';
      addRow('Canonical', canonical || '‚Äî', !!canonical);

      const robots = (doc.querySelector('meta[name="robots"]')||{}).content || '';
      addRow('Robots meta', robots || '‚Äî', robots ? !/noindex/.test(robots) : true);

      const og = ['og:title','og:description','og:image','og:url'].map(p=>!!doc.querySelector(`meta[property="${p}"]`));
      addRow('Open Graph', og.map((v,i)=>['title','desc','image','url'][i]+': '+(v?'‚úì':'‚úó')).join(' ¬∑ '), og.every(Boolean));

      const tw = ['twitter:card','twitter:title','twitter:description','twitter:image'].map(n=>!!doc.querySelector(`meta[name="${n}"]`));
      addRow('Twitter Cards', tw.map((v,i)=>['card','title','desc','image'][i]+': '+(v?'‚úì':'‚úó')).join(' ¬∑ '), tw[0]);

      const ldjson = doc.querySelectorAll('script[type="application/ld+json"]').length;
      addRow('Structured data (JSON-LD) blocks', ldjson, ldjson>0);

      document.getElementById('results').innerHTML = out.join('');
    }
  </script>
</body>
</html>

