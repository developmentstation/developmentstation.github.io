<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Base64 Encoder / Decoder - DevTools Hub</title>
    <meta name="description" content="Encode and decode Base64 quickly. Supports UTF-8 text and files to Base64 Data URL. Free online Base64 tool.">
    <meta name="keywords" content="base64, base64 encoder, base64 decoder, text to base64, decode base64, file to base64">
    <meta name="author" content="DevTools Hub">
    <meta name="robots" content="index, follow">
    
    <!-- Theme -->
    <meta name="theme-color" content="#3b82f6">
    <meta name="color-scheme" content="light dark">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="../assets/css/modern-styles.css">
</head>
<body data-theme="light">
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <button class="btn btn-ghost" onclick="goBack()" aria-label="Go back">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M19 12H5M12 19l-7-7 7-7"/>
                        </svg>
                    </button>
                    <a href="../index.html" class="logo">
                        <span class="logo-icon">üõ†Ô∏è</span>
                        <span>DevTools Hub</span>
                    </a>
                </div>
                
                <nav class="nav-links">
                    <a href="../index.html" class="nav-link">Home</a>
                    <a href="#" class="nav-link active" onclick="filterTools('security')">Security</a>
                    <a href="password-generator.html" class="nav-link">Password Generator</a>
                    <a href="hash-generator.html" class="nav-link">Hash Generator</a>
                </nav>
                
                <div class="header-actions">
                    <div class="search-container">
                        <input type="text" id="searchInput" placeholder="Search tools..." class="search-input">
                        <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"/>
                            <path d="m21 21-4.35-4.35"/>
                        </svg>
                    </div>
                    
                    <button id="themeToggle" class="theme-toggle" aria-label="Toggle theme">
                        <span id="themeIcon">üåô</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Breadcrumb -->
    <div class="breadcrumb">
        <div class="container">
            <nav class="breadcrumb-nav" aria-label="Breadcrumb"></nav>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main">
        <div class="container">
            <div class="tool-layout">
                <!-- Main Tool Content -->
                <div class="tool-content">
                    <!-- Tool Header -->
                    <div class="tool-header">
                        <div class="tool-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                <polyline points="14,2 14,8 20,8"/>
                                <line x1="16" y1="13" x2="8" y2="13"/>
                                <line x1="16" y1="17" x2="8" y2="17"/>
                            </svg>
                        </div>
                        <div class="tool-info">
                            <h1>Base64 Encoder / Decoder</h1>
                            <p class="tool-description">Encode and decode Base64 with UTF-8 support. Convert files to Base64 Data URLs.</p>
                        </div>
                    </div>

                    <!-- Text Encode/Decode -->
                    <div class="card mb-6">
                        <div class="card-header">
                            <div class="card-icon">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M12 20h9"/>
                                    <path d="M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"/>
                                </svg>
                            </div>
                            <div>
                                <h3 class="card-title">Text</h3>
                                <p class="card-description">Encode or decode Base64 strings</p>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="inputText" class="form-label">Input</label>
                                <textarea id="inputText" class="form-textarea" rows="8" placeholder="Enter text or Base64 here..."></textarea>
                                <div class="checkbox-item" style="margin-top: 8px;">
                                    <input type="checkbox" id="utf8Toggle" checked>
                                    <span class="checkmark"></span>
                                    <span>Use UTF-8 (recommended)</span>
                                </div>
                                <div class="btn-group">
                                    <button class="btn btn-primary" onclick="encodeBase64()">Encode ‚Üí</button>
                                    <button class="btn btn-secondary" onclick="decodeBase64()">‚Üê Decode</button>
                                    <button class="btn btn-outline" onclick="clearText()">Clear</button>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="outputText" class="form-label">Output</label>
                                <div class="result-area">
                                    <textarea id="outputText" class="form-textarea" rows="8" readonly placeholder="Result will appear here..."></textarea>
                                    <button class="copy-btn" data-target="outputText">Copy</button>
                                </div>
                                <div class="btn-group">
                                    <button class="btn btn-outline" onclick="downloadText('base64.txt')">Download</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- File to Base64 -->
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                </svg>
                            </div>
                            <div>
                                <h3 class="card-title">File ‚Üí Base64</h3>
                                <p class="card-description">Convert a file to Base64 Data URL</p>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Choose File</label>
                            <input type="file" id="fileInput" class="form-input" onchange="handleFile(event)">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Result (Data URL)</label>
                            <div class="result-area">
                                <textarea id="fileOutput" class="form-textarea" rows="8" readonly placeholder="Data URL will appear here..."></textarea>
                                <button class="copy-btn" data-target="fileOutput">Copy</button>
                            </div>
                            <div class="btn-group">
                                <button class="btn btn-outline" onclick="downloadDataUrl()">Download</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sidebar -->
                <div class="tool-sidebar">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                </svg>
                            </div>
                            <div>
                                <h3 class="card-title">About Base64</h3>
                            </div>
                        </div>
                        <div class="space-y-3">
                            <p class="text-sm text-secondary">Base64 encodes binary data as ASCII text. Commonly used for embedding data in JSON, HTML, or CSS.</p>
                            <ul class="text-xs text-secondary" style="list-style: disc; padding-left: 18px;">
                                <li>Safe for transport and storage</li>
                                <li>Increases size by ~33%</li>
                                <li>Use UTF-8 for non-ASCII characters</li>
                            </ul>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M9 11H5a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h4m6-6h4a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-4m-6 0V9a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2v-2"/>
                                </svg>
                            </div>
                            <div>
                                <h3 class="card-title">Related Tools</h3>
                            </div>
                        </div>
                        <div class="space-y-2">
                            <a href="url-encoder.html" class="block p-3 rounded-lg hover:bg-secondary transition-colors">
                                <div class="font-medium text-sm">URL Encoder</div>
                                <div class="text-xs text-secondary">Encode & decode URLs</div>
                            </a>
                            <a href="password-generator.html" class="block p-3 rounded-lg hover:bg-secondary transition-colors">
                                <div class="font-medium text-sm">Password Generator</div>
                                <div class="text-xs text-secondary">Generate strong passwords</div>
                            </a>
                            <a href="hash-generator.html" class="block p-3 rounded-lg hover:bg-secondary transition-colors">
                                <div class="font-medium text-sm">Hash Generator</div>
                                <div class="text-xs text-secondary">MD5 / SHA hashing</div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>DevTools Hub</h4>
                    <p>Professional developer tools that work offline. Privacy-focused and completely free.</p>
                </div>
                <div class="footer-section">
                    <h4>Security Tools</h4>
                    <a href="password-generator.html">Password Generator</a>
                    <a href="hash-generator.html">Hash Generator</a>
                    <a href="base64-encoder.html">Base64 Encoder</a>
                    <a href="jwt-decoder.html">JWT Decoder</a>
                </div>
                <div class="footer-section">
                    <h4>Popular</h4>
                    <a href="json-formatter.html">JSON Formatter</a>
                    <a href="qr-generator.html">QR Generator</a>
                    <a href="unix-timestamp-converter.html">Unix Timestamp</a>
                </div>
                <div class="footer-section">
                    <h4>Features</h4>
                    <span>‚úì Works Offline</span>
                    <span>‚úì No Data Collection</span>
                    <span>‚úì Mobile Friendly</span>
                    <span>‚úì Open Source</span>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 DevTools Hub. Built with ‚ù§Ô∏è for developers.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="../assets/js/modern-shared.js"></script>
    <script>
        function getUtf8Toggle() {
            return document.getElementById('utf8Toggle').checked;
        }

        function encodeBase64() {
            const text = document.getElementById('inputText').value;
            if (!text) { notify('Please enter input text'); return; }

            try {
                let result;
                if (getUtf8Toggle() && window.TextEncoder) {
                    const encoder = new TextEncoder();
                    const bytes = encoder.encode(text);
                    result = btoa(String.fromCharCode(...bytes));
                } else {
                    // Fallback (may break for non-ASCII without UTF-8)
                    result = btoa(unescape(encodeURIComponent(text)));
                }
                document.getElementById('outputText').value = result;
                if (window.ToastManager) window.ToastManager.success('Encoded successfully');
            } catch (e) {
                handleError('Failed to encode: ' + (e && e.message ? e.message : 'Unknown error'));
            }
        }

        function decodeBase64() {
            const text = document.getElementById('inputText').value.trim();
            if (!text) { notify('Please enter Base64 to decode'); return; }

            try {
                const binary = atob(text);
                let result;
                if (getUtf8Toggle() && window.TextDecoder) {
                    const bytes = Uint8Array.from(binary, c => c.charCodeAt(0));
                    const decoder = new TextDecoder('utf-8', {fatal: false});
                    result = decoder.decode(bytes);
                } else {
                    result = decodeURIComponent(escape(binary));
                }
                document.getElementById('outputText').value = result;
                if (window.ToastManager) window.ToastManager.success('Decoded successfully');
            } catch (e) {
                handleError('Failed to decode. Is the input valid Base64?');
            }
        }

        function handleFile(evt) {
            const file = evt.target.files && evt.target.files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = e => {
                document.getElementById('fileOutput').value = e.target.result;
                if (window.ToastManager) window.ToastManager.success('File converted to Data URL');
            };
            reader.onerror = () => handleError('Failed to read file');
            reader.readAsDataURL(file);
        }

        function clearText() {
            document.getElementById('inputText').value = '';
            document.getElementById('outputText').value = '';
        }

        function downloadText(filename) {
            const out = document.getElementById('outputText').value;
            if (!out) { notify('Nothing to download'); return; }
            FileManager.downloadText(out, filename);
        }

        function downloadDataUrl() {
            const dataUrl = document.getElementById('fileOutput').value;
            if (!dataUrl) { notify('Nothing to download'); return; }
            const link = document.createElement('a');
            link.href = dataUrl;
            link.download = `download-${Date.now()}`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        function notify(msg) {
            if (window.ToastManager) window.ToastManager.info(msg);
        }

        function handleError(msg) {
            if (window.ToastManager) window.ToastManager.error(msg);
            else alert(msg);
        }

        document.addEventListener('DOMContentLoaded', () => {
            // Setup copy buttons via shared JS already
        });
    </script>
</body>
</html>

