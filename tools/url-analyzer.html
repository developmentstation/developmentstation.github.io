<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>URL Analyzer - DevTools Hub</title>
  <meta name="description" content="Parse and edit URLs. Inspect components and query parameters. Copy and rebuild.">
  <link rel="stylesheet" href="../assets/css/modern-styles.css">
  <meta name="color-scheme" content="light dark">
</head>
<body data-theme="light">
  <header class="header">
    <div class="container">
      <div class="header-content">
        <div class="logo">
          <button class="btn btn-ghost" onclick="goBack()" aria-label="Go back">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
          </button>
          <a href="../index.html" class="logo"><span class="logo-icon">üõ†Ô∏è</span><span>DevTools Hub</span></a>
        </div>
        <nav class="nav-links">
          <a href="../index.html" class="nav-link">Home</a>
          <a href="#" class="nav-link active">URLs</a>
        </nav>
        <div class="header-actions">
          <div class="search-container">
            <input type="text" id="searchInput" placeholder="Search tools..." class="search-input">
            <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
          </div>
          <button id="themeToggle" class="theme-toggle" aria-label="Toggle theme"><span id="themeIcon">üåô</span></button>
        </div>
      </div>
    </div>
  </header>

  <main class="main">
    <div class="container">
      <div class="tool-layout">
        <div class="tool-content">
          <div class="tool-header">
            <div class="tool-icon"><svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/></svg></div>
            <div class="tool-info"><h1>URL Analyzer</h1><p class="tool-description">Break down URLs, inspect params, and rebuild.</p></div>
          </div>

          <div class="card mb-6">
            <div class="card-header"><div class="card-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/></svg></div><div><h3 class="card-title">Input</h3></div></div>
            <div class="form-group" style="padding:1rem"><input id="url" class="form-input" placeholder="https://example.com/path?a=1&b=2#hash"></div>
            <div class="btn-group"><button class="btn btn-primary" onclick="parseUrl()">Parse</button><button class="btn" onclick="copyBuilt()">Copy built URL</button><button class="btn btn-ghost" onclick="clearAll()">Clear</button></div>
          </div>

          <div class="card mb-6">
            <div class="card-header"><div class="card-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18M3 12h18M3 18h18"/></svg></div><div><h3 class="card-title">Components</h3></div></div>
            <div class="grid" style="grid-template-columns: repeat(3, minmax(0,1fr)); gap: 1rem; padding: 1rem;">
              <div class="form-group"><label class="form-label">Protocol</label><input id="proto" class="form-input"></div>
              <div class="form-group"><label class="form-label">Host</label><input id="host" class="form-input"></div>
              <div class="form-group"><label class="form-label">Port</label><input id="port" class="form-input"></div>
              <div class="form-group" style="grid-column:1/-1"><label class="form-label">Pathname</label><input id="path" class="form-input"></div>
              <div class="form-group" style="grid-column:1/-1"><label class="form-label">Hash</label><input id="hash" class="form-input"></div>
            </div>
          </div>

          <div class="card">
            <div class="card-header"><div class="card-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01"/></svg></div><div><h3 class="card-title">Query Parameters</h3></div></div>
            <div id="params" style="padding:1rem"></div>
            <div class="btn-group" style="padding: 0 1rem 1rem"><button class="btn" onclick="addParam()">Add Param</button></div>
          </div>
        </div>
        <div class="tool-sidebar">
          <div class="card"><div class="card-header"><div class="card-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/></svg></div><div><h3 class="card-title">Built URL</h3></div></div>
            <div class="form-group" style="padding:1rem"><textarea id="built" class="form-textarea" rows="8" readonly></textarea></div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section"><h4>DevTools Hub</h4><p>Professional developer tools that work offline.</p></div>
        <div class="footer-section"><h4>URLs</h4><a href="url-analyzer.html">URL Analyzer</a></div>
        <div class="footer-section"><h4>Popular</h4><a href="../tools/json-formatter.html">JSON</a><a href="../tools/qr-generator.html">QR</a></div>
        <div class="footer-section"><h4>Features</h4><span>‚úì Offline</span></div>
      </div>
      <div class="footer-bottom"><p>&copy; 2024 DevTools Hub.</p></div>
    </div>
  </footer>

  <script src="../assets/js/modern-shared.js"></script>
  <script>
    function note(m){ if(window.ToastManager) window.ToastManager.show(m); else alert(m); }
    function clearAll(){ document.getElementById('url').value=''; document.getElementById('built').value=''; document.getElementById('params').innerHTML=''; ['proto','host','port','path','hash'].forEach(id=>document.getElementById(id).value=''); }
    function parseUrl(){
      const u = document.getElementById('url').value.trim();
      if(!u){ note('Enter a URL'); return; }
      let obj; try{ obj=new URL(u); }catch{ note('Invalid URL'); return; }
      document.getElementById('proto').value = obj.protocol.replace(':','');
      document.getElementById('host').value = obj.hostname;
      document.getElementById('port').value = obj.port;
      document.getElementById('path').value = obj.pathname;
      document.getElementById('hash').value = obj.hash.replace('#','');
      const paramsDiv=document.getElementById('params'); paramsDiv.innerHTML='';
      obj.searchParams.forEach((v,k)=> addParam(k,v));
      rebuild();
    }
    function addParam(k='',v=''){
      const wrap=document.createElement('div'); wrap.className='grid'; wrap.style.cssText='grid-template-columns: 1fr 1fr auto; gap:.5rem; margin-bottom:.5rem;';
      wrap.innerHTML = `<input class="form-input param-key" placeholder="key" value="${k}"><input class="form-input param-val" placeholder="value" value="${v}"><button class="btn btn-ghost remove">Remove</button>`;
      wrap.querySelector('.remove').onclick=()=>{ wrap.remove(); rebuild(); };
      wrap.querySelector('.param-key').oninput=rebuild; wrap.querySelector('.param-val').oninput=rebuild;
      document.getElementById('params').appendChild(wrap);
      rebuild();
    }
    function rebuild(){
      const proto=document.getElementById('proto').value||'https';
      const host=document.getElementById('host').value||'';
      const port=document.getElementById('port').value||'';
      const path=document.getElementById('path').value||'';
      const hash=document.getElementById('hash').value||'';
      const url = new URL(proto+'://' + host + (port? ':'+port : '') + (path.startsWith('/')? path : '/'+path));
      const rows=[...document.querySelectorAll('#params .grid')];
      rows.forEach(r=>{ const k=r.querySelector('.param-key').value; const v=r.querySelector('.param-val').value; if(k) url.searchParams.set(k,v); });
      if(hash) url.hash = '#'+hash;
      document.getElementById('built').value = url.toString();
    }
    function copyBuilt(){ const t=document.getElementById('built').value; if(!t){ note('Nothing to copy'); return;} if(window.ClipboardManager) window.ClipboardManager.copyText(t); else if(navigator.clipboard) navigator.clipboard.writeText(t); note('Copied'); }
    ['proto','host','port','path','hash'].forEach(id=>{ const el=()=>document.getElementById(id); setTimeout(()=>{ const e=el(); if(e) e.oninput=rebuild; },0); });
  </script>
</body>
</html>

